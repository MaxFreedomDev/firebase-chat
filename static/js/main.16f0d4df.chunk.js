(this["webpackJsonpfirebase-chat"]=this["webpackJsonpfirebase-chat"]||[]).push([[0],{14:function(e,t,n){e.exports={container:"chat_container__3mkhr",content:"chat_content__Fi5_U",inputContainer:"chat_inputContainer__190wH",containerMessage:"chat_containerMessage__3pqIG",messageHeader:"chat_messageHeader__2xE5O",messageOwner:"chat_messageOwner__3Jf_b",messageContent:"chat_messageContent__2ABeD",avatar:"chat_avatar__1bqrl"}},19:function(e,t,n){e.exports={container:"login_container__zjqad",content:"login_content__3scx3",btn:"login_btn__3aEG9",btnText:"login_btnText__29sAH"}},23:function(e,t,n){e.exports={container:"navbar_container__2aRoM",logoContainer:"navbar_logoContainer__35gIX",login:"navbar_login__1aCbL"}},29:function(e,t,n){e.exports={spinnerContainer:"loader_spinnerContainer__1K5MV",spinner:"loader_spinner__1wela"}},39:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return G}));var a=n(1),c=n(31),s=n.n(c),i=n(13),r=n(20),o=(n(39),n(23)),j=n.n(o),l="/login",b="/chat",d=n(15),u=n(2),h=function(){var e=Object(a.useContext)(G).auth,t=Object(d.a)(e),n=Object(i.a)(t,1)[0];return Object(u.jsxs)("div",{className:j.a.container,children:[Object(u.jsxs)("div",{className:j.a.logoContainer,children:[Object(u.jsx)("label",{children:"Dark"}),Object(u.jsx)("label",{children:"chat"})]}),Object(u.jsx)("div",{className:j.a.login,children:n?Object(u.jsx)("button",{onClick:function(){return e.signOut()},children:"\u0412\u044b\u0439\u0442\u0438"}):Object(u.jsx)(r.b,{to:l,children:"\u0412\u043e\u0439\u0442\u0438"})})]})},x=n(5),O=n(28),p=n.n(O),m=n(33),_=n(19),v=n.n(_),g=n(17),f=function(){var e=Object(a.useContext)(G).auth,t=function(){var t=Object(m.a)(p.a.mark((function t(){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new g.a.auth.GoogleAuthProvider;case 2:n=t.sent,a=e.signInWithPopup(n),a.user;case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(u.jsx)("div",{className:v.a.container,style:{height:window.innerHeight-50},children:Object(u.jsx)("div",{className:v.a.content,children:Object(u.jsx)("div",{className:v.a.contentBox,children:Object(u.jsx)("button",{className:v.a.btn,onClick:t,children:Object(u.jsx)("span",{className:v.a.btnText,children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Google"})})})})})},C=n(14),N=n.n(C),w=n(34),y=n(29),k=n.n(y),A=function(e){var t=e.height;return Object(u.jsx)("div",{className:k.a.spinnerContainer,style:{height:"auto"===t?"60vh":window.innerHeight-50},children:Object(u.jsxs)("div",{className:k.a.spinner,children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{})]})})},I=[{path:l,Component:f}],B=[{path:b,Component:function(){var e=Object(a.useContext)(G),t=e.auth,n=e.firestore,c=e.firebase,s=Object(d.a)(t),r=Object(i.a)(s,1)[0],o=Object(a.useState)(""),j=Object(i.a)(o,2),l=j[0],b=j[1],h=Object(w.a)(n.collection("messages").orderBy("createdAt")),x=Object(i.a)(h,2),O=x[0],p=x[1];return Object(u.jsxs)("div",{className:N.a.container,style:{height:window.innerHeight-50},children:[Object(u.jsx)("div",{className:N.a.content,children:p?Object(u.jsx)(A,{height:"auto"}):null===O||void 0===O?void 0:O.map((function(e){return Object(u.jsx)("div",{className:N.a.containerMessage,style:{border:r.uid===e.uid?"2px solid #FBDA31":"2px solid #7AA4C2 ",marginLeft:r.uid===e.uid?"auto":"10px"},children:Object(u.jsxs)("div",{className:N.a.containerMessageBubble,children:[Object(u.jsxs)("div",{className:N.a.messageHeader,children:[Object(u.jsx)("div",{style:{backgroundImage:"url(".concat(e.photoUrl,")")},className:N.a.avatar}),Object(u.jsx)("span",{className:N.a.messageOwner,children:e.displayName})]}),Object(u.jsx)("p",{className:N.a.messageContent,children:e.text})]})},e.uid)}))}),Object(u.jsxs)("div",{className:N.a.inputContainer,children:[Object(u.jsx)("textarea",{cols:4,value:l,onChange:function(e){return b(e.target.value)},autoFocus:!0}),Object(u.jsx)("button",{onClick:function(){n.collection("messages").add({uid:r.uid,displayName:r.displayName,photoUrl:r.photoURL,text:l,createdAt:c.firestore.FieldValue.serverTimestamp()}).then((function(){})),b("")},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})}}],H=function(){var e=Object(a.useContext)(G).auth,t=Object(d.a)(e);return Object(i.a)(t,1)[0]?Object(u.jsxs)(x.d,{children:[B.map((function(e){var t=e.path,n=e.Component;return Object(u.jsx)(x.b,{path:t,component:n,exact:!0},t)})),Object(u.jsx)(x.a,{to:b})]}):Object(u.jsxs)(x.d,{children:[I.map((function(e){var t=e.path,n=e.Component;return Object(u.jsx)(x.b,{path:t,component:n,exact:!0},t)})),Object(u.jsx)(x.a,{to:l})]})},D=function(){var e=Object(a.useContext)(G).auth,t=Object(d.a)(e),n=Object(i.a)(t,3),c=(n[0],n[1]);n[2];return c?Object(u.jsx)(A,{height:""}):Object(u.jsxs)(r.a,{children:[Object(u.jsx)(h,{}),Object(u.jsx)(H,{})]})};n(50),n(47);g.a.initializeApp({apiKey:"AIzaSyDsoD9Cyk_ajnBehEmiJnGe9a42iGo8yS4",authDomain:"fir-chat-10380.firebaseapp.com",projectId:"fir-chat-10380",storageBucket:"fir-chat-10380.appspot.com",messagingSenderId:"111235902142",appId:"1:111235902142:web:06d55e8c0a715a1690ccef"});var G=Object(a.createContext)(null),M=g.a.auth(),E=g.a.firestore();s.a.render(Object(u.jsx)(G.Provider,{value:{auth:M,firestore:E,firebase:g.a},children:Object(u.jsx)(D,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.16f0d4df.chunk.js.map